{"version":3,"sources":["/workspace/app/api/health/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\nimport { PrismaClient } from '@prisma/client'\n\nconst prisma = new PrismaClient()\n\nexport async function GET(request: NextRequest) {\n  try {\n    // Database health check\n    await prisma.$queryRaw`SELECT 1`\n    \n    const healthData = {\n      status: 'healthy',\n      timestamp: new Date().toISOString(),\n      version: process.env.npm_package_version || '1.0.0',\n      environment: process.env.NODE_ENV || 'development',\n      database: 'connected',\n      uptime: process.uptime(),\n      memory: process.memoryUsage(),\n    }\n\n    return NextResponse.json(healthData, { status: 200 })\n  } catch (error) {\n    console.error('Health check failed:', error)\n    \n    const errorData = {\n      status: 'unhealthy',\n      timestamp: new Date().toISOString(),\n      version: process.env.npm_package_version || '1.0.0',\n      environment: process.env.NODE_ENV || 'development',\n      database: 'disconnected',\n      error: process.env.NODE_ENV === 'production' ? 'Internal server error' : error instanceof Error ? error.message : 'Unknown error',\n    }\n\n    return NextResponse.json(errorData, { status: 503 })\n  }\n} "],"names":["GET","prisma","PrismaClient","request","$queryRaw","healthData","status","timestamp","Date","toISOString","version","process","env","npm_package_version","environment","NODE_ENV","database","uptime","memory","memoryUsage","NextResponse","json","error","console","errorData","Error","message"],"mappings":";;;;+BAKsBA;;;eAAAA;;;wBALoB;wBACb;AAE7B,MAAMC,SAAS,IAAIC,oBAAY;AAExB,eAAeF,IAAIG,OAAoB;IAC5C,IAAI;QACF,wBAAwB;QACxB,MAAMF,OAAOG,SAAS,CAAC,QAAQ,CAAC;QAEhC,MAAMC,aAAa;YACjBC,QAAQ;YACRC,WAAW,IAAIC,OAAOC,WAAW;YACjCC,SAASC,QAAQC,GAAG,CAACC,mBAAmB,IAAI;YAC5CC,aAAaH,QAAQC,GAAG,CAACG,QAAQ,IAAI;YACrCC,UAAU;YACVC,QAAQN,QAAQM,MAAM;YACtBC,QAAQP,QAAQQ,WAAW;QAC7B;QAEA,OAAOC,oBAAY,CAACC,IAAI,CAAChB,YAAY;YAAEC,QAAQ;QAAI;IACrD,EAAE,OAAOgB,OAAO;QACdC,QAAQD,KAAK,CAAC,wBAAwBA;QAEtC,MAAME,YAAY;YAChBlB,QAAQ;YACRC,WAAW,IAAIC,OAAOC,WAAW;YACjCC,SAASC,QAAQC,GAAG,CAACC,mBAAmB,IAAI;YAC5CC,aAAaH,QAAQC,GAAG,CAACG,QAAQ,IAAI;YACrCC,UAAU;YACVM,OAAOX,QAAQC,GAAG,CAACG,QAAQ,KAAK,eAAe,0BAA0BO,iBAAiBG,QAAQH,MAAMI,OAAO,GAAG;QACpH;QAEA,OAAON,oBAAY,CAACC,IAAI,CAACG,WAAW;YAAElB,QAAQ;QAAI;IACpD;AACF"}