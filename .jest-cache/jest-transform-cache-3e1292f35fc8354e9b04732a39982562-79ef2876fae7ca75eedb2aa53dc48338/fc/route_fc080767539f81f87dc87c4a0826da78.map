{"version":3,"sources":["C:\\kod\\cekirdek\\app\\api\\health\\route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { PrismaClient } from '@prisma/client'\r\n\r\nconst prisma = new PrismaClient()\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // Database health check\r\n    await prisma.$queryRaw`SELECT 1`\r\n    \r\n    const healthData = {\r\n      status: 'healthy',\r\n      timestamp: new Date().toISOString(),\r\n      version: process.env.npm_package_version || '1.0.0',\r\n      environment: process.env.NODE_ENV || 'development',\r\n      database: 'connected',\r\n      uptime: process.uptime(),\r\n      memory: process.memoryUsage(),\r\n    }\r\n\r\n    return NextResponse.json(healthData, { status: 200 })\r\n  } catch (error) {\r\n    console.error('Health check failed:', error)\r\n    \r\n    const errorData = {\r\n      status: 'unhealthy',\r\n      timestamp: new Date().toISOString(),\r\n      version: process.env.npm_package_version || '1.0.0',\r\n      environment: process.env.NODE_ENV || 'development',\r\n      database: 'disconnected',\r\n      error: process.env.NODE_ENV === 'production' ? 'Internal server error' : error instanceof Error ? error.message : 'Unknown error',\r\n    }\r\n\r\n    return NextResponse.json(errorData, { status: 503 })\r\n  }\r\n} "],"names":["GET","prisma","PrismaClient","request","$queryRaw","healthData","status","timestamp","Date","toISOString","version","process","env","npm_package_version","environment","NODE_ENV","database","uptime","memory","memoryUsage","NextResponse","json","error","console","errorData","Error","message"],"mappings":";;;;+BAKsBA;;;eAAAA;;;wBALoB;wBACb;AAE7B,MAAMC,SAAS,IAAIC,oBAAY;AAExB,eAAeF,IAAIG,OAAoB;IAC5C,IAAI;QACF,wBAAwB;QACxB,MAAMF,OAAOG,SAAS,CAAC,QAAQ,CAAC;QAEhC,MAAMC,aAAa;YACjBC,QAAQ;YACRC,WAAW,IAAIC,OAAOC,WAAW;YACjCC,SAASC,QAAQC,GAAG,CAACC,mBAAmB,IAAI;YAC5CC,aAAaH,QAAQC,GAAG,CAACG,QAAQ,IAAI;YACrCC,UAAU;YACVC,QAAQN,QAAQM,MAAM;YACtBC,QAAQP,QAAQQ,WAAW;QAC7B;QAEA,OAAOC,oBAAY,CAACC,IAAI,CAAChB,YAAY;YAAEC,QAAQ;QAAI;IACrD,EAAE,OAAOgB,OAAO;QACdC,QAAQD,KAAK,CAAC,wBAAwBA;QAEtC,MAAME,YAAY;YAChBlB,QAAQ;YACRC,WAAW,IAAIC,OAAOC,WAAW;YACjCC,SAASC,QAAQC,GAAG,CAACC,mBAAmB,IAAI;YAC5CC,aAAaH,QAAQC,GAAG,CAACG,QAAQ,IAAI;YACrCC,UAAU;YACVM,OAAOX,QAAQC,GAAG,CAACG,QAAQ,KAAK,eAAe,0BAA0BO,iBAAiBG,QAAQH,MAAMI,OAAO,GAAG;QACpH;QAEA,OAAON,oBAAY,CAACC,IAAI,CAACG,WAAW;YAAElB,QAAQ;QAAI;IACpD;AACF"}